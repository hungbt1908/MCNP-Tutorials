<!DOCTYPE html>
<html>
<head>
<title>Lession 1.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="b%C3%A0i-1-l%C3%A0m-quen-v%E1%BB%9Bi-mcnp">BÀI 1. LÀM QUEN VỚI MCNP</h1>
<h2 id="1-b%C3%A0i-to%C3%A1n">1. Bài toán</h2>
<p><strong>Xét ví dụ sau:</strong>
Có một quả cầu oxy đường kính 0,5 cm (Cell 1) và một quả cầu bằng sắt đường kính 0,5 cm (Cell 2) được đặt trong một khối hộp làm bằng carbon (Cell 3) với kích thước các cạnh là 10 cm. Cell 4 được mô tả như một “không gian bên ngoài hình hộp”. Một nguồn điểm đẳng hướng phát neutron 14 MeV được đặt tại tâm của khối cầu oxy nằm trong khối hộp carbon. Hãy tính tổng thông lượng và thông lượng theo năng lượng (bước tăng 1 MeV) từ 1 tới 14 MeV trong 2 trường hợp:
- Trên bền mặt khối cầu sắt
- Trung bình trong thể tích khối cầu sắt</p>
<p><img src=".\image/Picture1.png" alt="">
<em>Hình 1.1. Minh họa bài toán ví dụ</em></p>
<p><strong>Hướng dẫn:</strong>
<strong>Bước 1:</strong> Tạo một tệp tin dạng văn bản text mới có tên &quot;<em><strong>VD11</strong></em>&quot;, lưu ý tệp tin này không có phần mở rộng.</p>
<blockquote>
<p><strong>Chú ý 1:</strong><br>
Tệp tin VD11 được tạo ra ở trên được gọi là tệp đầu vào (input file) của chương trình MCNP, nhiệm vụ của người dùng khi mô phỏng bằng MCNP là phải tạo được một tệp đầu vào chứa các dòng lệnh mô tả chi tiết hệ vật lý cần mô hình hóa.</p>
</blockquote>
<p><strong>Bước 2:</strong> Sao chép đoạn mã sau và dán vào tệp tin mới tạo và lưu lại. Lưu ý, có các dòng trống trong đoạn mã ví dụ này cần phải giữ nguyên gốc khi sao chép.</p>
<pre class="hljs"><code><div>Sample Problem Input Deck
c Cell cards <span class="hljs-keyword">for</span> sample problem
<span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">-0.0014</span> <span class="hljs-number">-7</span>
<span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">-7.86</span> <span class="hljs-number">-8</span>
<span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">-1.60</span> <span class="hljs-number">1</span> <span class="hljs-number">-2</span> <span class="hljs-number">-3</span> <span class="hljs-number">4</span> <span class="hljs-number">-5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span>
<span class="hljs-number">4</span> <span class="hljs-number">0</span> <span class="hljs-number">-1</span>:<span class="hljs-number">2</span>:<span class="hljs-number">3</span>:<span class="hljs-number">-4</span>:<span class="hljs-number">5</span>:<span class="hljs-number">-6</span>
c End of cell cards <span class="hljs-keyword">for</span> sample problem

c Beginning of Surfaces <span class="hljs-keyword">for</span> cube
<span class="hljs-number">1</span> pz <span class="hljs-number">-5</span>
<span class="hljs-number">2</span> pz <span class="hljs-number">5</span>
<span class="hljs-number">3</span> py <span class="hljs-number">5</span>
<span class="hljs-number">4</span> py <span class="hljs-number">-5</span>
<span class="hljs-number">5</span> px <span class="hljs-number">5</span>
<span class="hljs-number">6</span> px <span class="hljs-number">-5</span>
c End of cube surface
<span class="hljs-number">7</span> s <span class="hljs-number">0</span> <span class="hljs-number">-4</span> <span class="hljs-number">-2.5</span> <span class="hljs-number">0.5</span> $ oxygen shpere
<span class="hljs-number">8</span> s <span class="hljs-number">0</span> <span class="hljs-number">4</span> <span class="hljs-number">4.5</span> <span class="hljs-number">0.5</span> $ iron shpere

imp:n <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>
sdef pos=<span class="hljs-number">0</span> <span class="hljs-number">-4</span> <span class="hljs-number">-2.5</span>
f2:n <span class="hljs-number">8</span> $ flux across surface <span class="hljs-number">8</span>
f4:n <span class="hljs-number">2</span> $ track length in cell <span class="hljs-number">2</span>
e0 <span class="hljs-number">1</span> <span class="hljs-number">12</span>i <span class="hljs-number">14</span>
m1 <span class="hljs-number">8016</span> <span class="hljs-number">1</span> $ oxygen <span class="hljs-number">16</span>
m2 <span class="hljs-number">26000</span> <span class="hljs-number">1</span> $ natural iron
m3 <span class="hljs-number">6000</span> <span class="hljs-number">1</span> $ carbon
nps <span class="hljs-number">100000</span>

</div></code></pre>
<blockquote>
<p><strong>Chú ý 2:</strong><br>
Trong đoạn mã trên cần lưu ý có 2 dòng trống được sử dụng để ngăn cách đoạn mã thành 3 đoạn, người ta đặt tên ba khối lần lượt là khối surface (surface block) – khối cell (cell block) – khối data (data block) và một dòng trống cuối cùng được sử dụng để thông báo sự kết thúc của tệp input.</p>
<p>Dòng đầu tiên của đoạn mã được gọi là dòng tiêu đề, được sử dụng để ghi tiêu đề giải thích cho tệp input (tiêu đề là tùy chọn và người sử dụng có thể không cần khai báo).</p>
<p>Các dòng bắt đầu bằng kí tự “c” được gọi là dòng ghi chú mã MCNP sẽ bỏ qua tất cả các ký tự phía sau nó (chỉ trong một dòng), do đó kí tự “c”  bắt buộc phải đặt ở đầu dòng. Các kí tự “$” chỉ được đặt ở vị trí kí tự thứ 6 – 80 trong một dòng, chương trình MCNP sẽ bỏ qua các kí tự sau nó. Sự khác biệt giữa hai cách ghi chú này là việc người sử dụng muốn ghi chủ bằng cả một dòng hay từ vị trí bất kì trên dòng.</p>
</blockquote>
<p><strong>Bước 3:</strong> Thử chạy chương trình sử dụng VisEd.</p>
<ul>
<li>Để chạy được MCNP bằng VisEd chúng ta cần lưu ý đến các biến môi trường có được thêm vào hệ thống hay chưa đó là đường dẫn tới thư mục &quot;.../bin&quot; và thư mục &quot;MCNP_DATA&quot;.
Kiểm tra biến môi trường bằng cách kích chuột phải vào biểu tượng ThisPC -&gt; Properties -&gt; Advance system Settings -&gt; Environment Variables.</li>
</ul>
<p><img src="image/Picture2a.png" alt="">
<img src="image/Picture2b.png" alt="">
<em>Hình 1.2. Biến môi trường được cài đặt thành công</em></p>
<ul>
<li>Mở chương trình VisEd bằng cách kích đúp chuột trái vào biểu tượng. Lưu ý, VisEd là một chương trình độc lập so với MCNP, nó không cần cài đặt và có thể chạy trực tiếp bằng thao tác kích chuột.
<img src="image/Picture3.png" alt="">
<em>Hình 1.3. Giao diện chương trình VisEd</em></li>
<li>Truy cập menu File -&gt; Open hoặc tổ hợp Ctrl+O để mở tệp đầu vào đã tạo ra</li>
</ul>
<p><img src="image/Picture4.png" alt="">
<em>Hình 1.4. Mở tệp đầu vào trên VisEd</em></p>
<p>Kích chọn vào các ô Surf, Cell, Color để xem hình học mô phỏng
<img src="image/Picture5.png" alt="">
<em>Hình 1.5. Hình học của tệp đầu vào</em></p>
<ul>
<li>Chạy tệp đầu vào, truy cập vào menu Run, nhập vào các trường như hình sau. Sau đó kích chọn Run để bắt đầu tính toán.
<img src="image/Picture6.png" alt="">
<em>Hình 1.6. Menu thực hiện tính toán</em></li>
</ul>
<h2 id="2-l%C3%BD-thuy%E1%BA%BFt">2. Lý thuyết</h2>
<h3 id="21-c%E1%BA%A5u-tr%C3%BAc-c%E1%BB%A7a-m%E1%BB%99t-t%E1%BB%87p-%C4%91%E1%BA%A7u-v%C3%A0o-mcnp">2.1. Cấu trúc của một tệp đầu vào MCNP</h3>
<ul>
<li>Cấu trúc cơ bản để soạn một tệp đầu vào MCNP như sau, các cấu trúc khác sẽ  được trình bày trong các bài sau.</li>
</ul>
<pre class="hljs"><code><div>Message Block <span class="hljs-comment">// Optional</span>
Blank Line Delimiter <span class="hljs-comment">// Optional</span>
Problem Title Card <span class="hljs-comment">// Optional</span>
Cell Card Block
...
Blank Line Delimiter
Surface Card Block
...
Blank Line Delimiter
Data Card Block
...
Blank Line Terminator <span class="hljs-comment">//Optional, but recommended</span>
Anything <span class="hljs-keyword">else</span> <span class="hljs-comment">// Optional</span>
</div></code></pre>
<ul>
<li>Một tệp đầu vào bắt buộc phải có ba khối chính bao gồm
<ul>
<li>Cell Block</li>
<li>Surface Block</li>
<li>Data Block</li>
</ul>
</li>
<li>Mội Block được cách nhau bằng một dòng trống. Kết thúc Data Block không bắt buộc phải là một dòng trống, tuy nhiên ta nên sử dụng vào chương trình.</li>
<li>Dòng &quot;Problem Title Card&quot; mô tả tiêu đề của tệp input (điều này là không bắt buộc). Đối với ví dụ ban đầu nó tương đương với &quot;Sample Problem Input Deck&quot;.</li>
<li>Dòng &quot;Message Block&quot; là dòng khai báo câu lệnh sẽ được tìm hiểu trong các bài sau. Nếu dòng này được sử dụng, ta cần phải có một dòng trống ngăn cách phía trước với Cell Block.</li>
</ul>
<h3 id="22-nh%E1%BB%AFng-l%C6%B0u-%C3%BD-khi-so%E1%BA%A1n-t%E1%BB%87p-input">2.2. Những lưu ý khi soạn tệp input</h3>
<ul>
<li>Sử dụng Notepad hoặc Notepad++ để soạn thảo.</li>
<li>Tên tệp không quá 8 kí tự, và không được chứa kí tự có dấu tiếng việt.</li>
<li>Không được sử dụng phím Tab khi soạn thảo, chỉ được phép dùng dấu cách để tạo khoảng trắng.</li>
<li>Số kí tự tối đa của một dòng là 80.</li>
<li>Kí tự c chỉ được phép ở đầu dòng (kí tự 1 - 5).</li>
<li>Kí tự $ xuất hiện ở giữa dòng từ kí tự 6 - 80.</li>
<li>Trong MCNP các đại lượng được coi là có đơn vị mặc định như sau: Năng lượng (MeV), khối lượng (g), độ dài (cm), mật độ (g/cm3), ...</li>
</ul>
<h3 id="23-ch%E1%BA%A1y-t%E1%BB%87p-%C4%91%E1%BA%A7u-v%C3%A0o-b%E1%BA%B1ng-d%C3%B2ng-l%E1%BB%87nh-cmd">2.3. Chạy tệp đầu vào bằng dòng lệnh CMD</h3>
<ul>
<li>Sử dụng dòng lệnh CMD là một cách thuận tiện để chạy tệp input của chương trình MCNP. Điều cần thiết là hai biến môi trường phải được cài đặt trước đó. Để kiểm tra MCNP5 có hoạt động hay không, mở Command Prompt và nhập mcnp5. Nếu kết quả thông báo như hình sau, điều đó có nghĩa MCNP5 có thể thực hiện chạy bằng dòng lệnh CMD.</li>
</ul>
<p><img src="image/Picture7.png" alt="">
<em>Hình 1.7. Kiểm tra MCNP5 đã được cài đặt bằng cửa sổ dòng lệnh</em></p>
<ul>
<li>Cú pháp chung để chạy như sau:</li>
</ul>
<pre class="hljs"><code><div>mcnp5 KEYWORD=value ... execution_option(s) other_options
</div></code></pre>
<p><strong>Trong đó:</strong>
KEYWORD=value: sử dụng để đặt tên cho các tệp vào và ra
execution_option(s): là các lệnh thao tác với tệp
other_options: các thao tác khác khi mô phỏng</p>
<blockquote>
<p><strong>Chú ý 3:</strong>
Trong bài này chúng ta sẽ không tìm hiểu hết các lệnh mà chỉ quan tâm tới một số lệnh rất cơ bản.</p>
</blockquote>
<ul>
<li>Trong trường hợp đơn giản nhất, kết quả đầu ra của MCNP sẽ bao gồm 2 tệp đó là OUTPUT và RUNTPE. Tệp OUTPUT chứa thông tin và các kết quả đầu ra, người sử dụng có thể hiển thị nội dung của nó bằng các trình soạn thảo text như Notepad. Trong khi RUNTPE là tệp chứa thông tin của quá trình mô phỏng dưới dạng mã nhị phân do đó không thể đọc chúng bằng các cách thông thường.</li>
<li>Ví dụ, nếu có tệp đầu vào với tên <strong>viDu</strong>, để chạy tệp này ta sử dụng như sau:</li>
</ul>
<pre class="hljs"><code><div>mcnp5 inp=viDu out=viDu.o runtpe=viDu.r
</div></code></pre>
<blockquote>
<p><strong>Chú ý 4:</strong></p>
<ul>
<li>Ở dòng lệnh trên tên của tệp đầu ra là viDu.o và tên của tệp RUN là viDu.r, phần mở rộng của chúng (&quot;.o&quot; và &quot;.r&quot;) được thêm vào để giúp phân biệt từng loại tệp. Người sử dụng có thể không cần phần đuôi mở rộng tuy nhiên tên của chúng khi đó phải đặt khác nhau.</li>
<li>Các kí tự inp, out và runtpe được gọi là các KEYWORD</li>
</ul>
</blockquote>
<ul>
<li>Một cách đơn giản hơn, có thể sử dụng cách viết tắt KEYWORD như sau:</li>
</ul>
<pre class="hljs"><code><div>mcnp5 i=viDu.i o=viDu.o r=viDu.r
</div></code></pre>
<ul>
<li>Hoặc ngắn gọn nhất:</li>
</ul>
<pre class="hljs"><code><div>mcnp5 n=viDu.i
</div></code></pre>
<blockquote>
<p><strong>Chú ý 5:</strong>
Khi sử dụng KEYWORD n, lúc này các tệp OUTPUT và RUNTPE sẽ tự động tạo ra tên cho chúng.</p>
</blockquote>
<ul>
<li>
<p>Có thể sử dụng các execution_option(s) để thao tác với tệp INPUT:</p>
<ul>
<li>i = gọi mô-đun IMCN để xử lý tệp</li>
<li>p = gọi mô-đun PLOT để vẽ hình</li>
<li>x = gọi mô-đun XACT để xử lý dữ liệu tiết diện phản ứng</li>
<li>r = gọi mô-đun MCRUN để vận chuyển hạt</li>
<li>z = gọi mô-đun MCPLOT để vẽ kết quả tally/vẽ dữ liệu tiết diện</li>
</ul>
</li>
<li>
<p>Câu lệnh đầy đủ nhất để chạy tệp <strong>viDu</strong> là:</p>
</li>
</ul>
<pre class="hljs"><code><div>mcnp5 inp=viDu out=viDu.o runtpe=viDu.r ixr
</div></code></pre>
<blockquote>
<p><strong>Chú ý 6:</strong>
Nếu không khai báo execution_option(s), thì mặc định chương trình sẽ hiểu là execution_option(s) = ixr.</p>
</blockquote>
<ul>
<li>Nếu chỉ muốn kiểm tra tệp INPUT có đúng cú pháp hay không, có thể sử dụng lệnh:</li>
</ul>
<pre class="hljs"><code><div>mcnp5 inp=viDu out=viDu.o runtpe=viDu.r i
</div></code></pre>
<ul>
<li>Nếu chỉ muốn xem hình học, ta có thể sử dụng lệnh sau:</li>
</ul>
<pre class="hljs"><code><div>mcnp5 inp=viDu out=viDu.o runtpe=viDu.r ip
</div></code></pre>
<blockquote>
<p><strong>Chú ý 7:</strong>
Để hiển thị đồ họa bằng tùy chọn ip, người dùng cần cài đặt XMing Server.</p>
</blockquote>
<h2 id="3-th%E1%BB%B1c-h%C3%A0nh">3. Thực hành</h2>
<p>Tạo một tệp input mới có nội dung như sau và chạy mô phỏng theo hai cách.</p>
<pre class="hljs"><code><div>testprob01 -- simple neutron problem to test some basic operations of mcnp.
<span class="hljs-number">1</span>     <span class="hljs-number">1</span>  <span class="hljs-number">-2.25</span>    <span class="hljs-number">-1</span>  imp:n=<span class="hljs-number">1</span>   $ graphite ball
<span class="hljs-number">2</span>     <span class="hljs-number">2</span>  <span class="hljs-number">-8.95</span>  <span class="hljs-number">1</span> <span class="hljs-number">-2</span>  imp:n=<span class="hljs-number">1</span>   $ copper shell
<span class="hljs-number">3</span>     <span class="hljs-number">0</span>         <span class="hljs-number">2</span> <span class="hljs-number">-3</span>  imp:n=<span class="hljs-number">1</span>   $ <span class="hljs-keyword">void</span> space
<span class="hljs-number">4</span>     <span class="hljs-number">0</span>         <span class="hljs-number">3</span>     imp:n=<span class="hljs-number">0</span>   $ zero-importance outside world
 
<span class="hljs-number">1</span>     sph <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5</span>
<span class="hljs-number">2</span>     s <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">7</span>
<span class="hljs-number">3</span>     so  <span class="hljs-number">9</span>
 
c    biased isotropic <span class="hljs-built_in">point</span> source at (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)
sdef  erg d1   vec <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>   dir d2   tme d5
sc5  equiprobable bin treatment <span class="hljs-keyword">for</span> time distribution.
si5  <span class="hljs-number">-50</span> <span class="hljs-number">-10</span> <span class="hljs-number">3</span>i <span class="hljs-number">10</span> <span class="hljs-number">5</span>m
sp5  <span class="hljs-number">-41</span> <span class="hljs-number">10</span>
sb5  <span class="hljs-number">0</span> <span class="hljs-number">.1</span> <span class="hljs-number">.2</span> <span class="hljs-number">.3</span> <span class="hljs-number">1</span>r <span class="hljs-number">.2</span> <span class="hljs-number">.1</span>
sc1  flat energy spectrum from <span class="hljs-number">1</span> to <span class="hljs-number">14.1</span> mev.
si1   <span class="hljs-number">1.0</span> <span class="hljs-number">14.1</span>
sp1   <span class="hljs-number">0</span> <span class="hljs-number">1</span>
sc2  direction is biased toward the <span class="hljs-built_in">point</span> detector.
sb2   <span class="hljs-number">-31</span> <span class="hljs-number">1.5</span>
c
m2    <span class="hljs-number">29000.02</span> <span class="hljs-number">1</span>
m1    nlib=<span class="hljs-number">40</span>c <span class="hljs-number">6012</span> <span class="hljs-number">1</span> 
awtab <span class="hljs-number">6012.</span> <span class="hljs-number">11.8969</span>
c    xs3  <span class="hljs-number">6012.50</span>c <span class="hljs-number">11.8969</span> rmccs <span class="hljs-number">0</span> <span class="hljs-number">3</span> <span class="hljs-number">92853</span> <span class="hljs-number">23390</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">2.53e-08</span>
phys:n  <span class="hljs-number">14.2</span> <span class="hljs-number">.01</span>
c
fc1  current across the graphite-copper interface.
f1:n  <span class="hljs-number">1.1</span>
e1    <span class="hljs-number">.1</span> <span class="hljs-number">.5</span> <span class="hljs-number">.8</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">12</span> <span class="hljs-number">14.1</span>
c1    <span class="hljs-number">-.866</span> <span class="hljs-number">-.5</span> <span class="hljs-number">0</span> <span class="hljs-number">.5</span> <span class="hljs-number">.866</span> <span class="hljs-number">1</span>
em1  <span class="hljs-number">1</span> <span class="hljs-number">5</span>i <span class="hljs-number">7</span>
cm1  <span class="hljs-number">8</span> <span class="hljs-number">4</span>i <span class="hljs-number">13</span>
tm5  <span class="hljs-number">14</span> <span class="hljs-number">8</span>i <span class="hljs-number">23</span>
t5   <span class="hljs-number">-50</span> <span class="hljs-number">-10</span> <span class="hljs-number">3</span>i <span class="hljs-number">10</span> <span class="hljs-number">5</span>m <span class="hljs-number">4</span>m <span class="hljs-number">5</span>m <span class="hljs-number">1.e20</span>
fq1   c e
fc5  flux at a <span class="hljs-built_in">point</span> in the <span class="hljs-keyword">void</span> just outside the copper shell.
f5:n  <span class="hljs-number">0</span> <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>
f15:n <span class="hljs-number">0</span> <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>
f25:n <span class="hljs-number">0</span> <span class="hljs-number">8</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>
e5    <span class="hljs-number">.1</span> <span class="hljs-number">.5</span> <span class="hljs-number">.8</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">12</span> <span class="hljs-number">14.1</span>
c
cut:n <span class="hljs-number">1.e20</span> <span class="hljs-number">.05</span> <span class="hljs-number">.05</span> <span class="hljs-number">.01</span> <span class="hljs-number">.01</span>
nps   <span class="hljs-number">5000</span>
<span class="hljs-built_in">print</span> <span class="hljs-number">10</span> <span class="hljs-number">30</span> <span class="hljs-number">35</span> 
prdmp <span class="hljs-number">1250</span> <span class="hljs-number">1250</span> <span class="hljs-number">-1</span> <span class="hljs-number">1</span>
dbcn j <span class="hljs-number">1000</span> <span class="hljs-number">512</span> <span class="hljs-number">513</span> <span class="hljs-number">2</span>j <span class="hljs-number">100</span> <span class="hljs-number">9999</span> <span class="hljs-number">5</span> $ non-multitask version.
c    dbcn <span class="hljs-number">6</span>j <span class="hljs-number">100</span> <span class="hljs-number">9999</span> <span class="hljs-number">5</span> $ dbcn card <span class="hljs-keyword">for</span> multitask version.
ptrac file=bin <span class="hljs-built_in">max</span>=<span class="hljs-number">1000</span> meph=<span class="hljs-number">10</span> nps=<span class="hljs-number">1</span>,<span class="hljs-number">100</span> cell=<span class="hljs-number">1</span> surface=<span class="hljs-number">1</span> 

</div></code></pre>
<p>#Tác giả</p>
<ul>
<li>Tác giả: <a href="https://github.com/HungBuiTien">Bùi Tiến Hưng</a></li>
<li>Email: hungbuitien19081997@gmail.com, bthung.vinatom@gmail.com</li>
<li>Nghiên cứu viên, Viện Năng lượng nguyên tử Việt Nam.</li>
<li>Ngày soạn 11/5/2023; Ngày chỉnh sửa.</li>
</ul>

</body>
</html>
